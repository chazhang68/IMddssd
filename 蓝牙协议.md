









智能戒指蓝牙通信协议

















文档版本号：	V5.18	文档编号：	YSH52840
文档密级：	内部	归属部门/项目：	怡盛和软件工程部
产品名：	智能戒指	编写人：	周磊
编写日期：	2023. 11.6	本版定稿日期：	2025. 5.6













深圳市怡盛和科技有限公司   版权所有

私有  BASE  UUID  是  BAE8xxxx-4F05-4503-8E65-3AF1F7329D1F  ， 只要把  xxxx  换为相应私有服 务和相应私有特征值的  16-bit UUID  就得到  128bit-UUID。
1.1 广播数据



智能戒指设备以 XXXXXX  的名字进行广播。 XXX  为任何字符 ， 广播间隔为 500ms。
制造商数据包含 8 个字节。 前六个字节为 MAC 地址（为了兼容 IOS  系统所设计） ，后两个字节 代表不同的软硬件版本：
数据结构：

MAC： 6  字节	识别符： 2 字节
识别符说明：

0xFF00	软件唯一识别号+硬件版本  1
0xFF01	软件唯一识别号+硬件版本  2
0xFF02	软件唯一识别号+硬件版本  3
待添加	/


1.2 GATT-基本参数服务（私有）



本服务手机 APP  作为客户端 ，手表作为服务端。
本服务和特征值为私有,UUID 为 16 位：
Allocation type	Allocated UUID	属性	描述
GATT Service	0x0001	/	/
GATT Characteristic and Object Type	0x0010	Write,
Write without respond	主机向从机发送
数据的通道

GATT Characteristic and Object Type	
0x0011	Read,
Notify	从机向主机发送 数据的通道
通讯数据帧结构如下：

名称	长度	描述



Frame  Type	


1 字节	0 ：单帧
1 ：连续帧首帧
2 ：连续帧
3 ： 流控帧（保留）


名称	长度	描述
Frame ID	1   字节	帧 ID 。作为应答识别使用。
Cmd	1   字节	命令
Subcmd	1 字节	子命令
Data	N   字节（0-240byte）	/
注： 1 、 帧结构中的多字节数据采用小端模式存储，低字节在前，高字节在后。
本协议不再对数据类型进行描述。
1.2.1 数据类型定义

名称	简称
无符号字符型	Uint8_t
有符号字符型	Int8_t
无符号短整型	Uint16_t
有符号短整型	Int16_t
无符号整型	Uint32_t
有符号整型	Int32_t
无符号长整型	Uint64_t
有符号长整型	Int64_t
1.2.2 应用命令

以下长度单位为字节 BYTE。
帧 ID 作为应答识别使用 。应答帧回复与请求帧一致的帧 ID。
Cmd	描述	备注
0x10	时间同步	/
0x11	版本号	/
0x12	电池管理	/
0x31	实时心率测量	/
0x32	实时血氧测量	/
0x34	读取温度	/
0x35	实时计步	/
0x36	操作本地数据	/


0x37	系统设置	/
0x41	加速度计数据透传	暂不开放
0xF2	工装测试	暂不开放
1.2.2.1 时间同步(0x10)

1.实现对戒指的时间更新

请求：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	9

内容	
0x0	
随机	
0x10	
0x0	[0:7]:UNIX  时间，精确度 1ms。
[8]:时区(保留)

示例数据： 003f100087a36f098b01000008 ，和 2023.10.07. 17 : 19 :57. 195 相差 1-2 秒。
响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	请求 ID	0x10	0x0	无
示例数据： 003f1000


2.实现对戒指的时间读取

请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	随机	0x10	0x1	无
示例数据： 00411001
响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	9


内容	0x0	请求 ID	0x10	0x1	[0:7]:UNIX  时间，精确度 1ms。
[8]:时区(保留)
示例数据： 0041100148b26f098b01000008 ， 时间为 2023.10.07. 17 : 19 :57.195。
1.2.2.2 版本号读取(0x11)



1.读取软件版本号

请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	随机	0x11	0x0	无
示例数据： 00011100
响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	10
内容	0x0	请求 ID	0x11	0x0	[0:9]:字符型数据
示例数据： 00011100322e332e382e39312020 ，软件版本号为 2.3.8.91       ，有空格。


2.读取硬件版本号

请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	随机	0x11	0x1	无
示例数据：00031101
响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	10
内容	0x0	请求 ID	0x11	0x1	[0:9]:字符型数据
示例数据： 000311013630335356322e302e32 ，硬件版本号为 603SV2.0.2


1.2.2.3   电池管理(0x12)

1.读取电池电量

请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	随机	0x12	0x0	无
示例数据： 00051200

响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	1


内容	

0x0	

请求 ID	

0x12	

0x0	[0]:0~ 100%百分比
101 为充电中， 电量无效
102 为充电完成， 电量无效
示例数据： 0005120058 ， 电量为 88%


2.读取电池充电状态



请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	随机	0x12	0x1	无
示例数据： 00071201
响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	1
内容	0x0	请求 ID	0x12	0x1	[0]:0 未充电  1 充电中 2 充 满
示例数据： 0007120100 ，未充电


3. 电量推送

当电量为 20%  ， 10%  ，5%的时候 ，蓝牙连接中 ， 戒指主动进行低电量推送 ，每个挡位只推送一次。 推 送完成后 2 秒内等待应答 ，如果超时或者未收到推送应答 ，则重复推送 ，最多三次。
推送：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	1
内容	0x0	随机	0x12	0x2	[0]:0~ 100%百分比
示例数据： 000712020A

推送应答：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	请求 ID	0x12	0x2	无
示例数据： 00071202
1.2.2.4 实时心率和心率变异性测量（0x31）

1.主动测量

实时测量心率值 ，此测量支持输出心率 ， 心率变异性 ，温度结果 ， 同时支持输出 RR  间期数组。 请求
指令：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	5





内容	




0x0	




随机	




0x31	




0x00	[0]:采集时间，默认 30（0 为一直采集，保 留）

[1]:采集频率，默认 25(保留)

[2]:波形配置 0:不上传  1:上传

[3]:进度配置 0:不上传  1:上传

[4]:间期配置 0:不上传  1:上传
示例数据： 000931001e32010101 ，采集时间 30  秒 ，频率 50hz ，波形上传 ，进度上传 ， 间期上传

结果响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	6











内容	










0x0	










请求 ID	










0x31	










0x0	[0]:佩戴状态，参考下表：

0x0	未佩戴
0x1	佩戴
0x2	充电中不允许采集
0x3	采集中
0x4	繁忙，不执行
[1]:心率 0:无效
[2]:心率变异性 0:无效，单位 ms
[3]:精神压力指数
[4:5]:温度，单位℃ ,  精度 0.01类型： 有符号 短整形
示例数据： 00093100033b0000bc0d

波形响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	参考下表数据结构（2+N*10）
内容	0x0	请求 ID	0x31	0x01	参考下表数据结构
示例数据： 参考下表

此表为波形响应的数据结构 ，包含 PPG 波形和加速度计的波形 ，  由于蓝牙最大长度的限制 ，所有会
切分传输。
类型	Seq	Data num	Data
长度(Byte)	1	1	N*10



内容	


从 0 递增	

N:数据个数
(N<=20)	[N*10+0:N*10+3]： 绿色，类型： 有符号整型
[N*10+4:N*10+5]： X 加速度，类型： 有符号短整形
[N*10+6:N*10+7]：Y 加速度，类型： 有符号短整形
[N*10+8:N*10+9]： Z 加速度，类型： 有符号短整形


示例数据：
000931010808aaec00004c013d00ea035eed00004c013e00e9035cee00004b014000e6032cf100004b014000 e50398f300004c014200e303fef600004b014400de03aaf800004b014400df03cefd00004c014100e003

间期响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	参考下表数据结构（2+N*2）
内容	0x0	请求 ID	0x31	0x2	参考下表数据结构
示例数据： 参考下表

此表为间期响应的数据结构 ， 由于蓝牙最大长度的限制 ， 实时传输。

类型	Seq	Data num	Data
长度(Byte)	1	1	N*2
内容	从 0 递增	N:数据个数
(N<= 100)	[N*2:N*2+2]： RR间期 类型： 无符号短整型  单位 ms
示例数据：
0009310200139803c00398037003100470037003e8031004480348031004c0031004980310047003e8039803

进度响应：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	1
内容	0x0	请求 ID	0x31	0xFF	[0] :0~ 100%
示例数据： 000931ff03 ，3%
2.心率推送

当心率和心率变异性周期测量的时候 ，蓝牙连接中 ，戒指主动进行测量结果推送 ，每次测量只推一次。 推送完成后 2 秒内等待应答 ，如果超时或者未收到推送应答 ，则重复推送 ，最多三次。
推送：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	5


内容	

0x0	

请求 ID	

0x31	

0x3	[0]： 心率 0:无效
[0]： 心率变异性 0:无效，单位 ms [0]： 精神压力指数


类型	Frame Type	Frame ID	Cmd	Subcmd	Data
					[3:4]：温度，单位℃ ,  精度 0.01，类型： 有符 号短整形

推送应答：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	请求 ID	0x31	0x3	无
1.2.2.5   实时血氧和心率测量（0x32）

1.主动测量

实时测量血氧值 ，此测量支持输出心率 ，血氧 ，温度三种结果 ，不支持输出 RR  间期。 请求指令：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	4




内容	



0x0	



随机	



0x32	



0x00	
[0]：采集时间，默认 30  (0 为一直采集，保留) [1]： 采集频率，默认 25(保留)
[2]： 波形配置 0:不上传  1:上传 [3]:进度配置 0:不上传  1:上传
示例数据： 000b32001e320101 ，采集时间 30  秒 ，频率 50hz ，波形上传 ，进度上传	

结果响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	5











内容	








0x0	








请求 ID	








0x32	








0x0	[0]： 佩戴状态，参考下表：
0x0	未佩戴
0x1	佩戴
0x2	充电中不允许测试
0x3	测试中
0x4	繁忙，不执行
[1]： 心率 0:无效
[2]： 血氧 0:无效
[3:4]：温度，单位℃ ,精度0.01 ,  类型： 有符号短整形
示例数据： 000b3200030000580d
灌注率结果响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	4



内容	


0x0	


请求 ID	


0x32	


0x2	[0]：血液灌注率 [1]：保留
[2]：保留 [3]：保留
示例数据：

波形响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	参考下表数据结构（2+N*14）
内容	0x0	随机	0x32	0x1	参考下表数据结构
示例数据： 参考下表

此表为波形响应的数据结构 ，包含PPG波形和加速度计的波形 ， 由于蓝牙最大长度的限制 ，所有会切分
传输。
类型	Seq	Data num	Data
长度(Byte)	1	1	N*14





内容	


从 0 递增	

N： 数据个数
(N<= 15)	[N*14+0:N*14+3]： 红色，类型： 有符号整型
[N*14+4:N*14+7]： 红外，类型： 有符号整型
[N*14+8:N*14+9]： X 加速度，类型： 有符号短整形
[N*14+10:N*14+11]：Y 加速度，类型： 有符号短整形
[N*14+12:N*14+13]： Z 加速度，类型： 有符号短整形
示例数据：
000b32010008d6720000a04f010074017b00bb03027700009671010077017f00ba032a790000ac7e010076017e 00ba03807a00009286010076017b00b9036a7a00002c8b010078017900b503047b0000dc8c01007b017800b603 c87e00008092010079017600b803ce830000c098010079017600b8033

进度响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	1
内容	0x0	随机	0x32	0xFF	[0] :0~ 100%
示例数据： 000b32ff03 ，3%


2.血氧推送

当血氧和心率周期测量的时候 ，蓝牙连接中 ， 戒指主动进行测量结果推送 ，每次测量只推一次。 推送完 成后 2 秒内等待应答 ，如果超时或者未收到推送应答 ，则重复推送 ，最多三次。
推送：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	5



内容	


0x0	


请求 ID	


0x32	


0x3	[0]： 心率 0:无效
[1]： 血氧 0:无效
[2:3]：温度，单位℃ ,  精度 0.01，类型： 有符号 短整形
[4]： 灌注度(保留)
示例数据： 000b3200030000580d

推送应答：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	请求 ID	0x32	0x3	无


1.2.2.6   温度测量（0x34）

读取当前温度数据。
请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	1


内容	

0x0	

随机	

0x34	

0x0	0 ：直接测试
1 ： 快速预测模式（保留）
2 ： 高精度模式（保留）
示例数据： 000d340000
响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	3






内容	





0x0	





请求 ID	





0x34	





0x0	[0]： 测量状态，参考下表：
0x0	测量中
0x1	测量完成
0x2	测量失败并结束
0x3	繁忙，不执行
[1:2]： 温度（精度 0.01） ，单位℃ ,  类 型： 有符号短整形
示例数据： 000d3400016f0d ，温度为 34.39C
1.2.2.7   计步（0x35）

读取当天实时步数。
请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	随机	0x35	0x0	无
示例数据： 000f3500

响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	2



内容	
0x0	
请求 ID	0x35	
0x0	[0:1]:步数
类型： 无符号短整形
示例数据： 000f35003303 ，步数为 819

清除实时步数。 请求：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	随机	0x35	0x1	无
示例数据： 00113501

响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	请求 ID	0x35	0x1	无
示例数据： 00113501


1.2.2.8   操作本地数据（0x36）



1.读取本地数据的未上传的历史记录

请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	4

内容	
0x0	
随机	
0x36	
0x0	0： 获取缓存内全部未上传数据。
非 0： 为 UNIX  时间 ， 获取指定时间后全部未上 传的数据（保留）。
示例数据： 0013360000000000

响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	参考下表数据记录结构
内容	0x0	请求 ID	0x36	0x0	参考下表数据记录结构
示例数据：
应答第一条： 001336002400000001000000c7e9216559000000000000000001010000


应答最后一条：
0013360024000000240000008f12226510005900480c7e0c650104000aa802a8028002a8023002300220035802a8023002


2.读取本地数据的全部的历史记录。

请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	4


内容	

0x0	

随机	

0x36	

0x1	0： 获取缓存内全部数据
非 0： 为 UNIX  时间，获取指定时间后 全部数据（保留）
示例数据： 0015360100000000

响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	参考下表数据记录结构
内容	0x0	请求 ID	0x36	0x1	参考下表数据记录结构
示例数据：
应答第一条： 001536017402000001000000f8bf1e65000000000000000065010a0000 应答最后一条：
0015360174020000740200008f12226510005900480c7e0c650104000aa802a8028002a8023002300220035802a8023002

数据记录结构（数据记录为空时 ，数据结构仅有 Toal Num 和 Seq 两个成员）：
类型	Total Num	Seq	Data
长度(Byte)	4	4	17 + N*Uint16_t











内容	











当前传输数据总	










当前数据序号
（0 起始）		数据	类型	备注	
				UNIX  时间	Uint32_t	单位： 秒	
				当天截止当前累计步数	Uint16_t		
				心率	Uint8_t	0 ：无效	
				血氧	Uint8_t	0 ：无效	
				心率变异性	Uint8_t	0 ：无效	
				精神压力指数	Uint8_t	0 ：无效	


	个数，数据记
录为空时此值  为 0，繁忙时此
致为
0xFFFFFFFF			温度	Int16_t	单位： ℃ , 精度 0.01	
				运动激烈程度	Uint8_t	0 ：静止   0x65： 运动	
				睡眠类型	Uint8_t	0 ：无效
1 ：清醒
2 ：浅睡
3 ：深睡
4 ： 眼动期	
				血液灌注率（保留）	Uint8_t	百分比	
				保留	Uint8_t		
				RR  间期个数 N	Uint8_t	最大 100	
				RR 数组	N*Uint16_t		
示例数据： 参考上表


3.停止上传本地数据

请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	随机	0x36	0x2	无
示例数据： 001f3602

响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	请求 ID	0x36	0x2	无
示例数据： 001f3602


4.删除全部本地数据历史记录

当系统繁忙时 ，此请求会空闲时执行 ，请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	随机	0x36	0x3	无
示例数据： 001f3603

响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	请求 ID	0x36	0x3	无
示例数据： 001f3603


5.读取本地数据内存容量信息（保留）

请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	随机	0x36	0x4	无
示例数据： 00213604

响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	12

内容	
0x0	
请求 ID	
0x36	
0x4	[0:3]： 容量大小，单位字节
[4:7]： 容量已使用，单位字节 [8:9]： 全部记录数量
[10:11]： 未上传记录数量
示例数据： 0021360408f60100e04c00007f020b00


6.消极响应

在获取历史记录或者执行其他指令记录记录时候 ，如果被测设备不能执行指令 ，则回复此指令。

响应：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	1




内容	



0x0	



请求 ID	



0x36	



0xFF	[0]： 消极原因
0： 正在测量中
1： 正在上传历史记录
2： 正在删除历史记录
3：文件系统损坏
1.2.2.9   系统设置（0x37）

1.采集周期设置

设置后下次有效。
请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	4

内容	
0x0	
随机	
0x37	
0x0	[0:3]:采集周期 ，单位秒 。 为 0时关闭周期采 集，正常值为最小60s
示例数据： 001b3700b0040000 ，请求数据为 1200 秒

响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	1
内容	0x0	请求 ID	0x37	0x0	[0] : 0:设置失败 1:设置成功
示例数据： 001b370001


2.采集周期读取

请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	随机	0x37	0x1	
示例数据： 00193701


响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	4
内容	0x0	请求 ID	0x37	0x1	[0： 3] :   定时期周期时间
示例数据： 00193701b0040000 ， 1200 秒


3.恢复出厂设置

请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	随机	0x37	0x2	无
示例数据： 略

响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	请求 ID	0x37	0x2	无
示例数据： 略


4.蓝牙名称设置

设置蓝牙名称后  1s 后会自动断开连接 ，然后以新的蓝牙名称开始发送广播。 请求：
类型	Frame
Type	Frame ID	Cmd	Subcmd	Data
长度
(Byte)	1	1	1	1	13

内容	
0x0	
随机	
0x37	
0x3	[0]： 长度，单位字节，最大 12 [1:12]： 蓝牙名称
示例数据： 略

响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	1
内容	0x0	请求 ID	0x37	0x3	[0] : 0:设置失败 1:设置成功
示例数据： 略


5.蓝牙名称读取

请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	随机	0x37	0x4	无
示例数据： 略

响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	21

内容	
0x0	
请求 ID	
0x37	
0x4	[0]： 长度，单位字节，最大 20 [1:20]： 蓝牙名称
示例数据： 略
1.2.2.10   音频传输（0x71）

控制 adp cm格式音频传输
请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	4
内容	0x0	随机	0x71	0x1	[0]：控制类型，0x1:打开，0x0:关闭

执行结果响应：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	4+2+n



内容	


0x0	


请求 ID	


0x71	


0x1	
音频数据
[0,1]： 音频数据长度
[2,5]： seq 包号
[6,n]： 音频数据(有符号短整型)


1.2.2.11   HID 功能控制（0x85）

1.设置 HID 模式

戒指出厂默认关闭HID 功能。 当两种 HID 模式均关闭的时候 ，HID 服务会隐藏。
类型	Frame Type	Frame  ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	3














内容	













0x0	













请求 ID	













0x85	













0x1	[0]   触摸 hid   模式
0 ：刷视频模式
1 ：拍照模式
2 ：音乐模式
3 : ppt 模式
4 ： 上传实时音频
0xFF:关闭
[1]   手势 hid   模式
0 ：刷视频模式
1 ：拍照模式
2 ：音乐模式
3 ：ppt 模式
4 ： 打响指(拍照)模式0xFF:关闭
[2]:系统类型
0 ：安卓
1 ： IOS
2 ：鸿蒙
3 ：windos
[3:22]:主机型号,字符数据[23:24]:屏幕纵向像素高度y : [25:26]:屏幕横向像宽度x :

响应：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	1
内容	0x0	请求 ID	0x85	0x1	[0]： 0:失败， 1 ： 成功


2.获取 HID 模式

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	请求 ID	0x85	0x2	/

响应：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	3












内容	











0x0	











请求 ID	











0x85	











0x2	[0]： 触摸 hid   模式
0 ：刷视频模式
1 ：拍照模式
2 ：音乐模式
3 ：ppt 模式
4 ： 上传实时音频0xFF:关闭
[1]： 手势 hid   模式
0 ：刷视频模式
1 ：拍照模式
2 ：音乐模式
3 ：ppt 模式
4 ： 打响指(拍照)模式
0xFF:关闭
[2]： 系统类型
0 ：安卓
1 ： IOS
2 ：WINDOS
3.获取 HID 功能码

APP  按照自己的系统类型进行下发功能请求码。 戒指获取到之后根据自己所支持的功能进行反馈功 能列表。
请求：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	1

内容	
0x0	
请求 ID	
0x85	
0x3	[0]：系统类型： 0 ：安卓
1 ： IOS


类型	Frame Type	Frame ID	Cmd	Subcmd	Data
					2 ：Windos

响应：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	17












内容	











0x0	











请求 ID	











0x85	











0x3	[0]:HID 功能支持，
0 ： 不支持(后面字节无效)
1 ：支持
[1]:触摸功能
bit0： 触摸拍照 0:不支持 1:支持
bit1 :   触摸短视频模式 0:不支持 1:支持
bit2： 触摸控制音乐 0:不支持 1:支持
bit3： 触摸控制 PPT 0:不支持 1:支持
bit4： 触摸控制上传实时音频 0:不支持 1:支持 [2:8]:待定
[9]:空中手势功能
bit0： 捏一捏手指拍照 0:不支持 1:支持  bit1 :   手势短视频模式 0:不支持 1:支持
bit2： 音乐 0:不支持 1:支持
bit3： ppt 模式 0:不支持 1:支持
bit4： 打响指（拍照）模式 0:不支持 1:支持 [10:16]:待定.
4.HID 功能触发方式解析

1) 触摸控制拍照
在手机相机打开的情况下 ， 单击按触摸板触发拍照。

2) 触摸滑动短视频
在短视频 APP  打开的情况下 ， 上下滑动触发短视频切换 ， 单击播放和暂停。

3) 触摸控制音乐
在音乐播放的情况下 ， 上下滑动触发音乐上一曲下一曲切换 ， 单击播放和暂停。

4) 触摸控制 PPT
在 windos  系统上 ， ppt  打开的情况下 ， 上下滑动  PPT  页面切换。

5) 手势捏一捏拍照
在手机相机打开的情况下 ， 手指捏一捏触发拍照。


6)  手势滑动短视频
在短视频 APP  打开的情况下 ， 上下挥动手触发短视频切换。

7)  手势空中鼠标
在 windos  系统上 ， 控制鼠标指针位置 ， 捏一捏鼠标左击。

8)  触摸控制上传实时音频
触摸长按开始上传实时音频 ， 长按结束停止上传。


1.2.2.12   振动马达（0x83）



1.线性马达 定时振动（倒计时）

请求：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	5


内容	

0x0	

随机	

0x83	

0x3	[0:3]   时间（单位 s）
[4:5]   震动类型：
1 ： 强力振动
2 ： 持续振动
3 ：渐变振动

执行结果响应：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	1
内容	0x0	请求 ID	0x83	0x3	[0]:1-成功0-失败
2.线性马达 立即振动

请求：
类型	Frame Type	Frame  ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	8

内容	
0x0	
随机	
0x83	
0x4	[0]震动类型： 1： 强力振动
2： 持续振动


类型	Frame Type	Frame  ID	Cmd	Subcmd	Data
					3：渐变振动
执行结果响应：
类型	Frame Type	Frame  ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	1
内容	0x0	请求 ID	0x83	0x4	[0]:1-成功0-失败



1.2.2.13   Touch 设置（0x84）

1.Touch 压感推送


类型	Frame Type	Frame  ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	

内容	
0x0	
请求 ID	
0x84	
0x3	[0:3]:按下时间 [4]:力度
响应：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	请求 ID	0x84	0x3	/


1.2.2.14   APP 事件（0xA0）

1.账户戒指绑定

复合操作。
戒指收到这条指令执行 ，恢复出厂设置（清空历史记录 ，清除步数) ， 同步时间 ，HID 功能获取。 APP 提示固件版本升级。
请求：

类型	Frame Type	Frame  ID	Cmd	Subcmd	Data
长度(Byte)	1	1		1	10




内容	



0x0	



随机	



0xA0	



0x0	[0:7]:UNIX  时间，精确度 1ms
[8]:时区
[9]:系统类型：
0 ：安卓
1 ： IOS
2 ：鸿蒙
3 ：Windos
响应：
类型	Frame Type	Frame  ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	58













内容	












0x0	












请求 ID	












0xA0	












0x0	[0:9]:固件版本 号  [10:19]:硬件 版本号
[20]:电量%
[21]:充电状态
[22:25]:当前采集间隔
[26:27]:当前计步
[28:29] : 自检标志
[30:46]:当前 HID 功能码
[47:49]:当前 HID 模式
[50]:心率曲线支 持[51]:血氧曲线 支持
[52]:变异性曲线支  持[53]:压力曲线支 持  [54]:温度曲线  支持  [55]:女性健  康支持  [56]:震动  闹钟支持
[57]:心电图功能支 持[58]:麦克风支 持
[59]:运动模式支持
2.连接

复合操作。
戒指收到这条指令执行 ，  自动上传未上传数据 ， 同步时间 ，HID  功能获取。 APP 提示固件升级。
请求：

类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	10




内容	



0x0	



随机	



0xA0	



0x1	[0:7]:UNIX  时间，精确度 1ms
[8]:时区
[9]:系统类型：
0 ：安卓
1 ： IOS
2 ：鸿蒙
3 ：Windos
响应：
类型	Frame Type	Frame  ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	58













内容	












0x0	












请求 ID	












0xA0	












0x1	[0:9]:固件版本号
[10:19]:硬件版本号
[20] : 电量%
[21]:充电状态
[22:25]:当前采集间隔
[26:27]:当前计步
[28:29] : 自检标志
[30:46]:当前 HID 功能码 [47:49]:当前 HID 模式
[50]:心率曲线支持
[51]:血氧曲线支持
[52]:变异性曲线支持 [53]:压力曲线支持
[54]:温度曲线支持
[55]:女性健康支持
[56]:震动闹钟支持
[57]:心电图功能支持 [58]:麦克风支持
[59]:运动模式支持
3.刷新

复合操作。
戒指收到这条指令执行 ，  自动上传未上传数据 ， 同步时间。
APP 不提示固件升级。
画横线部分代表 APP 不使用这个数据 ，无视固件的上传 ， 固件为了返回速度也可以不传。

请求：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	10




内容	



0x0	



随机	



0xA 0	



0x2	[0:7]:UNIX  时间，精确度 1ms
[8]:时区
[9]:系统类型：
0 ：安卓
1 ： IOS
2 ：鸿蒙
3 ：Windos
响应：
类型	Frame Type	Frame  ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	58


内容	

0x0	

请求 ID	

0xA0	

0x2	
[20]:电量%
[21]:充电状态
[26:27]:当前计步
4.账户戒指解绑

请求：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	/
内容	0x0	随机	0xA0	0x3	/
响应：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	/
内容	0x0	请求 ID	0xA0	0x3	/


1.2.2.15   工装测试-新版（0xF2）



7.设置 Shipmode（运输模式）

请求：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data


长度(Byte)	1	1	1	1	0
内容	0x0	随机	0xF2	0x5	无
响应：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	请求 ID	0xF2	0x5	无


8.复位测试

请求：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	随机	0xF2	0x9	
响应：
类型	Frame Type	Frame ID	Cmd	Subcmd	Data
长度(Byte)	1	1	1	1	0
内容	0x0	请求 ID	0xF2	0x9	无


1.3   心电




Charact	UUID	属性	功能描述
ECG  service	974cbe40-3e83-465e-acde-6f92fe712134	Service	Service 本体

TxWrite	
974cbe41-3e83-465e-acde-6f92fe712134	Write ，without respond	命令通道，
Maste 至 Slave
Data1Notify	974cbe43-3e83-465e-acde-6f92fe712134	Notify	数据通道 1
开始采集人体心电指令： 往 TxWrite 写入两个字节： 0xC2 0x00
开始采集模拟器信号指令： 往 TxWrite 写入两个字节： 0xC4 0x00
停止采集： 往 TxWrite 写入两个字节： 0xC3 0x00 从 Data1Notify 数据心电波形响应：

帧头结构如下：

成员	长度	内容	说明
HeadTypeSize	Byte	0x0E	固定
HeadType	Byte	0x02	固定
DeviceType	Byte	0x04	固定
Seq	Ushort	0-65535	帧序号 ，递增 ，大于 65535  之后归零
保留	Ushort		
HR	Byte	0-255	心率值
保留	7*Byte		
数据结构如下：
成员	长度	内容	说明
数据长度	Byte	211	

心电	
161Byte	成员	长度	采样频率 250Hz，单位 uV 。 偏移量+10mv。
		数据长度N1	80	
		心电数据	80* Ushort	
保留	Ushort	0	
